(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{22379:function(e,t,a){"use strict";a.d(t,{Qr:function(){return LoyaltyProvider},Yq:function(){return LoyaltyCard}});var r=a(67294),s=a(71677),i=a(68583),o=a(61646),n=a(57097),l=a(85893);let c=(0,r.createContext)();function LoyaltyProvider({children:e}){let[t,a]=(0,r.useState)(0),[s,o]=(0,r.useState)("Bronze"),[d,x]=(0,r.useState)(0),[m,u]=(0,r.useState)(!1),{addNotification:h}=(0,n.z)();(0,r.useEffect)(()=>{let e=localStorage.getItem("leidy-loyalty");if(e){let t=JSON.parse(e);a(t.points||0),x(t.services||0),o(calculateLevel(t.points||0))}},[]);let calculateLevel=e=>e>=1e3?"Diamante":e>=500?"Ouro":e>=200?"Prata":"Bronze",getAvailableRewards=()=>[{id:"discount-10",title:"10% de desconto",description:"Desconto em qualquer servi\xe7o",cost:100,icon:"\uD83D\uDCB0",available:t>=100},{id:"free-service",title:"Servi\xe7o gr\xe1tis",description:"Uma limpeza completa gr\xe1tis",cost:500,icon:"\uD83E\uDDF9",available:t>=500},{id:"priority-booking",title:"Agendamento priorit\xe1rio",description:"Pule a fila de agendamentos",cost:200,icon:"⚡",available:t>=200},{id:"birthday-surprise",title:"Surpresa de anivers\xe1rio",description:"Brinde especial no seu anivers\xe1rio",cost:300,icon:"\uD83C\uDF82",available:t>=300}];return(0,l.jsxs)(c.Provider,{value:{userPoints:t,userLevel:s,completedServices:d,addPoints:(e,r)=>{let i=t+e,n=calculateLevel(i);a(i),x(e=>e+1),n!==s&&(o(n),u(!0),setTimeout(()=>u(!1),5e3),h({title:"\uD83C\uDF89 N\xedvel Atingido!",message:`Parab\xe9ns! Voc\xea alcan\xe7ou o n\xedvel ${n}!`,icon:"⭐",tag:"level-up"})),localStorage.setItem("leidy-loyalty",JSON.stringify({points:i,services:d+1,level:n,lastUpdate:new Date})),h({title:`+${e} pontos!`,message:r,icon:"\uD83D\uDC8E",tag:"points"})},getLevelProgress:()=>{let e={Bronze:{min:0,max:199,next:"Prata"},Prata:{min:200,max:499,next:"Ouro"},Ouro:{min:500,max:999,next:"Diamante"},Diamante:{min:1e3,max:1/0,next:null}}[s],a=(t-e.min)/(e.max-e.min)*100;return{current:s,next:e.next,progress:Math.min(a,100),pointsToNext:e.max===1/0?0:e.max-t}},getAvailableRewards,redeemReward:e=>{let r=getAvailableRewards(),s=r.find(t=>t.id===e);s&&t>=s.cost&&(a(e=>e-s.cost),h({title:"\uD83C\uDF81 Recompensa Resgatada!",message:`Voc\xea resgatou: ${s.title}`,icon:"\uD83C\uDF89",tag:"reward"}),console.log("Reward redeemed:",s))}},children:[e,m&&(0,l.jsx)(i.Z,{recycle:!1,numberOfPieces:200})]})}function LoyaltyCard(){let{userPoints:e,userLevel:t,completedServices:a,getLevelProgress:i}=(0,r.useContext)(c),n=i();return(0,l.jsxs)(s.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-gradient-to-r ${{Bronze:"from-amber-600 to-amber-800",Prata:"from-gray-400 to-gray-600",Ouro:"from-yellow-400 to-yellow-600",Diamante:"from-blue-400 to-blue-600"}[t]} rounded-xl p-6 text-white shadow-lg`,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-bold",children:"Programa de Fidelidade"}),(0,l.jsxs)("p",{className:"text-sm opacity-90",children:["N\xedvel ",t]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:e}),(0,l.jsx)("div",{className:"text-sm opacity-90",children:"pontos"})]})]}),n.next&&(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,l.jsxs)("span",{children:["Pr\xf3ximo: ",n.next]}),(0,l.jsxs)("span",{children:[n.pointsToNext," pontos"]})]}),(0,l.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,l.jsx)(s.E.div,{className:"bg-white h-2 rounded-full",initial:{width:0},animate:{width:`${n.progress}%`},transition:{duration:1,delay:.5}})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsxs)("span",{children:["Servi\xe7os realizados: ",a]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(o.Z,{className:"w-4 h-4"}),(0,l.jsx)("span",{children:t})]})]})]})}},57097:function(e,t,a){"use strict";a.d(t,{j:function(){return NotificationSystem},z:function(){return useNotifications}});var r=a(67294),s=a(89508),i=a(71677),o=a(86501),n=a(64412),l=a(31415),c=a(85893);function NotificationSystem(){let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)("default");(0,r.useEffect)(()=>{"Notification"in window&&s(Notification.permission);let e=localStorage.getItem("leidy-notifications");e&&t(JSON.parse(e))},[]);let requestPermission=async()=>{if("Notification"in window){let e=await Notification.requestPermission();s(e),"granted"===e&&o.ZP.success("Notifica\xe7\xf5es ativadas! \uD83C\uDF89")}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.x7,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}}),(0,c.jsx)(NotificationDropdown,{notifications:e,onMarkAsRead:e=>{t(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},onRemove:e=>{t(t=>t.filter(t=>t.id!==e))},onClearAll:()=>{t([]),localStorage.removeItem("leidy-notifications")},onRequestPermission:requestPermission,permission:a}),window.addNotification=r=>{let s={id:Date.now(),timestamp:new Date,read:!1,...r};t(e=>[s,...e]),localStorage.setItem("leidy-notifications",JSON.stringify([s,...e])),(0,o.ZP)(r.title,{icon:r.icon||"\uD83D\uDD14",duration:4e3}),"granted"===a&&"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.showNotification(r.title,{body:r.message,icon:"/icons/icon-192.svg",badge:"/icons/badge-72.svg",tag:r.tag||"general"})})}]})}function NotificationDropdown({notifications:e,onMarkAsRead:t,onRemove:a,onClearAll:o,onRequestPermission:l,permission:d}){let[x,m]=(0,r.useState)(!1),u=e.filter(e=>!e.read).length;return(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("button",{onClick:()=>m(!x),className:"relative p-2 text-gray-600 hover:text-gray-900 transition-colors",children:[(0,c.jsx)(n.Z,{className:"w-6 h-6"}),u>0&&(0,c.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u>9?"9+":u})]}),(0,c.jsx)(s.M,{children:x&&(0,c.jsxs)(i.E.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:[(0,c.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifica\xe7\xf5es"}),e.length>0&&(0,c.jsx)("button",{onClick:o,className:"text-sm text-gray-500 hover:text-gray-700",children:"Limpar tudo"})]}),"granted"!==d&&(0,c.jsx)("button",{onClick:l,className:"mt-2 w-full bg-blue-600 text-white py-2 px-4 rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Ativar notifica\xe7\xf5es push"})]}),(0,c.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===e.length?(0,c.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,c.jsx)(n.Z,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"Nenhuma notifica\xe7\xe3o"]}):e.map(e=>(0,c.jsx)(NotificationItem,{notification:e,onMarkAsRead:t,onRemove:a},e.id))})]})})]})}function NotificationItem({notification:e,onMarkAsRead:t,onRemove:a}){return(0,c.jsx)("div",{onClick:()=>{e.read||t(e.id)},className:`p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${e.read?"":"bg-blue-50"}`,children:(0,c.jsxs)("div",{className:"flex items-start justify-between",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,c.jsx)("span",{className:"text-lg",children:e.icon||"\uD83D\uDD14"}),(0,c.jsx)("h4",{className:`font-medium ${e.read?"text-gray-700":"text-gray-900"}`,children:e.title}),!e.read&&(0,c.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.message}),(0,c.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.timestamp).toLocaleString("pt-BR")})]}),(0,c.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e.id)},className:"text-gray-400 hover:text-gray-600 p-1",children:(0,c.jsx)(l.Z,{className:"w-4 h-4"})})]})})}function useNotifications(){return{addNotification:e=>{window.addNotification&&window.addNotification(e)}}}},38810:function(e,t,a){"use strict";a.d(t,{k_:function(){return apiCall}});var r=a(34155);let s={baseURL:r.env.REACT_APP_API_URL||"http://localhost:3001",timeout:parseInt(r.env.REACT_APP_API_TIMEOUT||"30000"),environment:r.env.REACT_APP_ENVIRONMENT||"development",debug:"true"===r.env.REACT_APP_DEBUG};async function apiCall(e,t={}){let a=new AbortController,r=setTimeout(()=>a.abort(),s.timeout),i=`${s.baseURL}${e}`,o={"Content-Type":"application/json",...t.headers},n=localStorage.getItem("auth_token");n&&(o.Authorization=`Bearer ${n}`),s.debug&&console.log(`[API] ${t.method||"GET"} ${i}`);try{let e=await fetch(i,{...t,headers:o,signal:a.signal});if(clearTimeout(r),!e.ok){let t=await e.json().catch(()=>({})),a=Error(t.message||`API Error: ${e.status}`);throw a.status=e.status,a.data=t,a}let n=await e.json();return s.debug&&console.log(`[API] ✓ ${e.status}`,n),n}catch(t){if(clearTimeout(r),"AbortError"===t.name){let t=Error(`Requisi\xe7\xe3o expirou (timeout de ${s.timeout}ms)`);throw t.code="TIMEOUT",console.error("[API] ⏱ Timeout:",e),t}if(t instanceof TypeError&&t.message.includes("fetch"))throw console.error("[API] \uD83C\uDF10 Network error:",e),Error(`Erro de conex\xe3o com servidor: ${s.baseURL}`);throw console.error("[API] ❌ Error:",t.message),t}}},21427:function(e,t,a){"use strict";a.d(t,{Ho:function(){return AuthProvider},Vo:function(){return n}});var r=a(67294),s=a(38810),i=a(85893),o=a(34155);let n=(0,r.createContext)(null);function AuthProvider({children:e}){let[t,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[d,x]=(0,r.useState)(!0),[m,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("auth_token");e?(c(e),verifyToken(e)):x(!1)},[]);let verifyToken=async e=>{try{let t=await (0,s.k_)("/api/auth/verify",{method:"GET",headers:{Authorization:`Bearer ${e}`}});a(t.user),c(e)}catch(e){"TIMEOUT"!==e.code&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),c(null))}finally{x(!1)}},h=(0,r.useCallback)(async(e,t)=>{x(!0),u(null);try{let r=await (0,s.k_)("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return a(r.user),c(r.accessToken),localStorage.setItem("auth_token",r.accessToken),localStorage.setItem("auth_user",JSON.stringify(r.user)),r.user}catch(e){throw u(e.message),e}finally{x(!1)}},[]),g=(0,r.useCallback)(async()=>{x(!0);try{l&&await fetch(`${o.env.REACT_APP_API_URL||"http://localhost:3001"}/api/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${l}`}}),a(null),c(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")}catch(e){u(e.message)}finally{x(!1)}},[l]),p=(0,r.useCallback)(async e=>{x(!0),u(null);try{let t=await (0,s.k_)("/api/auth/register",{method:"POST",body:JSON.stringify(e)});return a(t.user),c(t.accessToken),localStorage.setItem("auth_token",t.accessToken),localStorage.setItem("auth_user",JSON.stringify(t.user)),t.user}catch(e){throw u(e.message),e}finally{x(!1)}},[]),f=!!l;return(0,i.jsx)(n.Provider,{value:{user:t,token:l,isLoading:d,error:m,isAuthenticated:f,login:h,logout:g,register:p},children:e})}},43988:function(e,t,a){"use strict";a.d(t,{V:function(){return ToastProvider},p:function(){return useToast}});var r=a(67294),s=a(85893);let i=r.createContext(null);function ToastProvider({children:e}){let[t,a]=(0,r.useState)([]),o=(0,r.useCallback)((e,t="info",r=3e3)=>{let s=Date.now(),i={id:s,message:e,type:t};return a(e=>[...e,i]),r>0&&setTimeout(()=>{n(s)},r),s},[]),n=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]);return(0,s.jsxs)(i.Provider,{value:{addToast:o,removeToast:n,toasts:t},children:[e,(0,s.jsx)(ToastContainer,{toasts:t,onRemove:n})]})}function useToast(){let e=r.useContext(i);if(!e)throw Error("useToast deve ser usado dentro de ToastProvider");return e}function ToastContainer({toasts:e,onRemove:t}){let a={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"},r={success:"✅",error:"❌",warning:"⚠️",info:"ℹ️"};return(0,s.jsx)("div",{className:"fixed bottom-4 right-4 space-y-2 z-50 max-w-sm",children:e.map(e=>(0,s.jsxs)("div",{className:`${a[e.type]} text-white p-4 rounded-lg shadow-lg flex items-center justify-between animate-slide-in`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:r[e.type]}),(0,s.jsx)("p",{children:e.message})]}),(0,s.jsx)("button",{onClick:()=>t(e.id),className:"ml-4 text-white hover:opacity-75",children:"✕"})]},e.id))})}},9830:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return MyApp}}),a(32352);var r=a(67294),s=a(27923),i=a(36752),o=a(34155);o.env.NEXT_PUBLIC_SENTRY_DSN&&s.S({dsn:o.env.NEXT_PUBLIC_SENTRY_DSN,environment:"production",release:o.env.NEXT_PUBLIC_APP_VERSION||void 0,integrations:[new i.gE],tracesSampleRate:.1});var n=a(85893);let l=(0,r.createContext)();function ThemeProvider({children:e}){let[t,a]=(0,r.useState)("light"),[s,i]=(0,r.useState)([124,58,237]),[o,c]=(0,r.useState)(1);return(0,r.useEffect)(()=>{let e=window.localStorage.getItem("lc_theme");if(e)try{let t=JSON.parse(e);a(t.theme||"light"),t.accent&&i(t.accent),t.fontScale&&c(t.fontScale)}catch(e){}},[]),(0,r.useEffect)(()=>{if("undefined"!=typeof document){document.documentElement.setAttribute("data-theme","dark"===t?"dark":"light");let e=s.join(",");document.documentElement.style.setProperty("--accent-rgb",e),document.documentElement.style.setProperty("--accent",`rgb(${e})`),document.documentElement.style.setProperty("--font-scale",o.toString()),window.localStorage.setItem("lc_theme",JSON.stringify({theme:t,accent:s,fontScale:o}))}},[t,s,o]),(0,n.jsx)(l.Provider,{value:{theme:t,toggleTheme:()=>a(e=>"dark"===e?"light":"dark"),setAccent:i,accent:s,fontScale:o,setFontScale:c},children:e})}var c=a(21427),d=a(43988),x=a(71677),m=a(51585),u=a(64487);let ErrorBoundary=class ErrorBoundary extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),m&&u.Tb&&u.Tb(e,{contexts:{errorBoundary:{componentStack:t.componentStack,retryCount:this.state.retryCount}}})}resetError=()=>{this.setState(e=>({hasError:!1,error:null,errorInfo:null,retryCount:e.retryCount+1}))};handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};render(){if(this.state.hasError){let e=this.state.retryCount>=3;return(0,n.jsx)(x.E.div,{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-orange-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,n.jsxs)(x.E.div,{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 border border-red-100",initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},transition:{type:"spring",damping:25,stiffness:300},children:[(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsx)(x.E.div,{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:(0,n.jsx)("span",{className:"text-3xl",children:"⚠️"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Algo deu errado"}),(0,n.jsx)("p",{className:"text-gray-600 leading-relaxed",children:e?"Parece que o problema persiste. Tente recarregar a p\xe1gina ou volte mais tarde.":"Encontramos um erro inesperado. Voc\xea pode tentar novamente ou voltar para a p\xe1gina inicial."})]}),!1,(0,n.jsxs)("div",{className:"space-y-3",children:[!e&&(0,n.jsx)(x.E.button,{onClick:this.resetError,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 active:scale-95",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83D\uDD04 Tentar Novamente"}),(0,n.jsx)(x.E.button,{onClick:this.handleReload,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 active:scale-95",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83D\uDD04 Recarregar P\xe1gina"}),(0,n.jsx)(x.E.button,{onClick:this.handleGoHome,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-3 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 active:scale-95",whileHover:{scale:1.02},whileTap:{scale:.98},children:"\uD83C\uDFE0 Voltar para In\xedcio"})]}),(0,n.jsxs)(x.E.div,{className:"mt-6 pt-4 border-t border-gray-200 text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[(0,n.jsx)("p",{className:"text-xs text-gray-500",children:"Se o problema persistir, entre em contato com nosso suporte."}),(0,n.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["C\xf3digo do erro: ",this.state.error?.name||"UNKNOWN_ERROR"]})]})]})})}return this.props.children}};var h=a(41664),g=a.n(h),p=a(11163);function MobileBottomNav(){let e=(0,p.useRouter)();return(0,n.jsx)("nav",{className:"mobile-only fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 safe-bottom-padding z-40 shadow-lg",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto grid grid-cols-4 gap-0",children:[(0,n.jsx)(g(),{href:"/",children:(0,n.jsxs)("div",{className:`py-3 flex flex-col items-center justify-center text-sm transition-colors ${"/"===e.pathname?"text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l9-9 9 9v7a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-4H9v4a2 2 0 0 1-2 2H3v-7z"})}),(0,n.jsx)("span",{className:"mt-1",children:"In\xedcio"})]})}),(0,n.jsx)(g(),{href:"/servicos",children:(0,n.jsxs)("div",{className:`py-3 flex flex-col items-center justify-center text-sm transition-colors ${"/servicos"===e.pathname?"text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,n.jsx)("span",{className:"mt-1",children:"Servi\xe7os"})]})}),(0,n.jsx)(g(),{href:"/agendar",children:(0,n.jsxs)("div",{className:`py-3 flex flex-col items-center justify-center text-sm transition-colors ${"/agendar"===e.pathname||"/agendar-updated"===e.pathname?"text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3M3 11h18M5 21h14a2 2 0 0 0 2-2V7H3v12a2 2 0 0 0 2 2z"})}),(0,n.jsx)("span",{className:"mt-1",children:"Agendar"})]})}),(0,n.jsx)(g(),{href:"/dashboard",children:(0,n.jsxs)("div",{className:`py-3 flex flex-col items-center justify-center text-sm transition-colors ${"/dashboard"===e.pathname?"text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,n.jsx)("span",{className:"mt-1",children:"Conta"})]})})]})})}var f=a(25675),v=a.n(f);function MobileTopBar(){return(0,n.jsx)("header",{className:"mobile-only fixed top-0 left-0 right-0 z-40 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-slate-700",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto flex items-center justify-between px-4 py-3",children:[(0,n.jsx)(g(),{href:"/",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 relative rounded-lg overflow-hidden",children:(0,n.jsx)(v(),{src:"/images/logo.svg",alt:"Leidy Cleaner",width:40,height:40})}),(0,n.jsxs)("div",{className:"leading-tight",children:[(0,n.jsx)("div",{className:"text-sm font-black text-gray-900 dark:text-white",children:"Leidy Cleaner"}),(0,n.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Limpeza Premium"})]})]})}),(0,n.jsx)("div",{className:"flex items-center gap-3",children:(0,n.jsx)(g(),{href:"/agendar",children:(0,n.jsx)("a",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-md bg-gradient-to-r from-blue-600 to-cyan-500 text-white text-sm font-semibold",children:"\uD83D\uDCC5 Agendar"})})})]})})}var y=a(22379),b=a(57097),UI_WhatsAppButton=()=>{let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let toggleVisibility=()=>{window.pageYOffset>300?t(!0):t(!1)};return window.addEventListener("scroll",toggleVisibility),()=>window.removeEventListener("scroll",toggleVisibility)},[]),(0,n.jsxs)("a",{href:`https://wa.me/5551990303740?text=${encodeURIComponent("Ol\xe1! Gostaria de saber mais sobre os servi\xe7os de limpeza da Leidy Cleaner.")}`,target:"_blank",rel:"noopener noreferrer",className:`fixed bottom-6 right-6 z-50 bg-green-600 hover:bg-green-700 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 ${e?"translate-y-0 opacity-100":"translate-y-16 opacity-0"}`,"aria-label":"Falar no WhatsApp",children:[(0,n.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),(0,n.jsxs)("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:["Falar no WhatsApp",(0,n.jsx)("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]})},w=a(89508),UI_LiveChat=()=>{let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)([{id:1,text:"Ol\xe1! \uD83D\uDC4B Como posso ajudar voc\xea hoje?",sender:"support",time:new Date}]),[i,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),handleSendMessage=(e=i)=>{if(!e.trim())return;let t={id:a.length+1,text:e,sender:"user",time:new Date};s(e=>[...e,t]),o(""),c(!0),setTimeout(()=>{let e=["Perfeito! Vou te ajudar com isso. Que tipo de limpeza voc\xea precisa?","Nossos pre\xe7os come\xe7am em R$ 150 para limpeza residencial. Posso te dar um or\xe7amento personalizado?","Aceitamos cart\xe3o, PIX e dinheiro. O pagamento \xe9 feito ap\xf3s a conclus\xe3o do servi\xe7o.","Temos disponibilidade hoje! Que hor\xe1rio seria melhor para voc\xea?"],t={id:a.length+2,text:e[Math.floor(Math.random()*e.length)],sender:"support",time:new Date};s(e=>[...e,t]),c(!1)},1500)},handleQuickReply=e=>{handleSendMessage(e)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.E.button,{className:"fixed bottom-6 right-6 z-50 bg-green-600 hover:bg-green-700 text-white p-4 rounded-full shadow-lg",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(!e),children:e?(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,n.jsx)(w.M,{children:e&&(0,n.jsxs)(x.E.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"fixed bottom-24 right-6 z-50 w-80 h-96 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-slate-700 flex flex-col",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-500 text-white p-4 rounded-t-2xl",children:[(0,n.jsx)("h3",{className:"font-bold",children:"\uD83D\uDCAC Chat Leidy Cleaner"}),(0,n.jsx)("p",{className:"text-sm opacity-90",children:"Atendimento online"})]}),(0,n.jsxs)("div",{className:"flex-1 p-4 space-y-3 overflow-y-auto",children:[a.map(e=>(0,n.jsx)(x.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${"user"===e.sender?"justify-end":"justify-start"}`,children:(0,n.jsx)("div",{className:`max-w-xs px-3 py-2 rounded-lg text-sm ${"user"===e.sender?"bg-green-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-900 dark:text-white"}`,children:e.text})},e.id)),l&&(0,n.jsx)(x.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:(0,n.jsx)("div",{className:"bg-gray-100 dark:bg-slate-700 px-3 py-2 rounded-lg",children:(0,n.jsxs)("div",{className:"flex space-x-1",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,n.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,n.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),1===a.length&&(0,n.jsx)("div",{className:"px-4 pb-2",children:(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2",children:["Quero agendar um servi\xe7o","Qual o valor da limpeza?","Como funciona o pagamento?","T\xeam disponibilidade hoje?"].map((e,t)=>(0,n.jsx)("button",{onClick:()=>handleQuickReply(e),className:"text-left p-2 text-sm bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-lg transition-colors",children:e},t))})}),(0,n.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-slate-700",children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&handleSendMessage(),placeholder:"Digite sua mensagem...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:border-green-500 dark:bg-slate-700 dark:text-white"}),(0,n.jsx)("button",{onClick:()=>handleSendMessage(),className:"bg-green-600 hover:bg-green-700 text-white p-2 rounded-lg transition-colors",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})})]})},UI_PushNotifications=()=>{let[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)("default");(0,r.useEffect)(()=>{"Notification"in window&&s(Notification.permission);let e=[setTimeout(()=>{addNotification({id:1,title:"\uD83C\uDF89 Promo\xe7\xe3o Especial!",body:"20% OFF na primeira limpeza residencial",icon:"\uD83C\uDFAF",type:"promo"})},5e3),setTimeout(()=>{addNotification({id:2,title:"⏰ Lembrete",body:"Sua limpeza est\xe1 agendada para amanh\xe3 \xe0s 14h",icon:"\uD83D\uDCC5",type:"reminder"})},15e3),setTimeout(()=>{addNotification({id:3,title:"⭐ Avalia\xe7\xe3o",body:"Como foi seu \xfaltimo servi\xe7o? Deixe sua opini\xe3o!",icon:"⭐",type:"review"})},25e3)];return()=>e.forEach(clearTimeout)},[]);let requestPermission=async()=>{if("Notification"in window){let e=await Notification.requestPermission();s(e),"granted"===e&&addNotification({id:Date.now(),title:"✅ Notifica\xe7\xf5es Ativadas!",body:"Voc\xea receber\xe1 atualiza\xe7\xf5es importantes",icon:"\uD83D\uDD14",type:"success"})}},addNotification=e=>{let r={...e,timestamp:new Date};t(e=>[r,...e]),"granted"===a&&"Notification"in window&&new Notification(e.title,{body:e.body,icon:"/favicon.ico"}),setTimeout(()=>{t(t=>t.filter(t=>t.id!==e.id))},5e3)},removeNotification=e=>{t(t=>t.filter(t=>t.id!==e))},getNotificationStyle=e=>{switch(e){case"promo":return"bg-gradient-to-r from-purple-500 to-pink-500";case"reminder":return"bg-gradient-to-r from-blue-500 to-cyan-500";case"review":return"bg-gradient-to-r from-yellow-500 to-orange-500";case"success":return"bg-gradient-to-r from-green-500 to-emerald-500";default:return"bg-gradient-to-r from-gray-500 to-slate-500"}};return(0,n.jsxs)(n.Fragment,{children:["default"===a&&(0,n.jsx)(x.E.div,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-blue-600 text-white p-4 shadow-lg",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD14"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-semibold",children:"Receba notifica\xe7\xf5es importantes"}),(0,n.jsx)("p",{className:"text-sm opacity-90",children:"Atualiza\xe7\xf5es sobre seus agendamentos e promo\xe7\xf5es"})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:requestPermission,className:"bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Ativar"}),(0,n.jsx)("button",{onClick:()=>s("denied"),className:"text-blue-200 hover:text-white transition-colors",children:"Agora n\xe3o"})]})]})}),(0,n.jsx)("div",{className:"fixed top-4 right-4 z-40 space-y-2",children:(0,n.jsx)(w.M,{children:e.map(e=>(0,n.jsx)(x.E.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},className:`${getNotificationStyle(e.type)} text-white p-4 rounded-lg shadow-lg max-w-sm`,children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:e.icon}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h4",{className:"font-semibold text-sm",children:e.title}),(0,n.jsx)("p",{className:"text-sm opacity-90 mt-1",children:e.body})]}),(0,n.jsx)("button",{onClick:()=>removeNotification(e.id),className:"text-white/70 hover:text-white transition-colors",children:"✕"})]})},e.id))})}),(0,n.jsx)("div",{className:"fixed bottom-4 left-4 z-40",children:(0,n.jsx)(x.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white dark:bg-slate-800 text-gray-900 dark:text-white p-3 rounded-full shadow-lg border border-gray-200 dark:border-slate-700",title:"Prefer\xeancias de notifica\xe7\xe3o",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM4.868 12.683A17.925 17.925 0 0112 21c7.962 0 12-1.21 12-2.683m-12 2.683a17.925 17.925 0 01-7.132-8.317M12 21V9m0 0l-4 4m4-4l4 4"})})})})]})},j=a(88362),N=a(65133),k=a(31415);let usePWA=()=>{let[e,t]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),[n,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=window.matchMedia("(display-mode: standalone)").matches,a=!0===window.navigator.standalone;s(e||a),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),o(e),t(!0)}),window.addEventListener("appinstalled",()=>{s(!0),t(!1),o(null)});let handleOnline=()=>l(!0),handleOffline=()=>l(!1);return window.addEventListener("online",handleOnline),window.addEventListener("offline",handleOffline),()=>{window.removeEventListener("online",handleOnline),window.removeEventListener("offline",handleOffline)}},[]);let installPWA=async()=>{if(!i)return;i.prompt();let{outcome:e}=await i.userChoice;"accepted"===e&&s(!0),o(null),t(!1)},shareContent=async e=>{if(navigator.share)try{await navigator.share(e)}catch(e){console.log("Erro ao compartilhar:",e)}};return{isInstallable:e,isInstalled:a,isOnline:n,installPWA,shareContent}};var UI_PWABanner=()=>{let{isInstallable:e,installPWA:t,isInstalled:a}=usePWA(),[s,i]=(0,r.useState)(!1);return!e||a||s?null:(0,n.jsx)(w.M,{children:(0,n.jsx)(x.E.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-blue-600 to-cyan-500 text-white shadow-lg",children:(0,n.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-3",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,n.jsx)(j.Z,{className:"w-8 h-8"}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h3",{className:"font-bold text-sm sm:text-base",children:"Instale o App Leidy Cleaner"}),(0,n.jsx)("p",{className:"text-xs sm:text-sm opacity-90",children:"Acesso r\xe1pido, notifica\xe7\xf5es e experi\xeancia nativa no seu celular"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("button",{onClick:()=>{t(),i(!0)},className:"bg-white text-blue-600 font-semibold px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors text-sm flex items-center gap-2",children:[(0,n.jsx)(N.Z,{className:"w-4 h-4"}),"Instalar"]}),(0,n.jsx)("button",{onClick:()=>{i(!0),localStorage.setItem("pwa-banner-dismissed","true")},className:"text-white/70 hover:text-white transition-colors p-1","aria-label":"Fechar",children:(0,n.jsx)(k.Z,{className:"w-5 h-5"})})]})]})})})})},C=a(4298),E=a.n(C),S=a(34155);let P=S.env.NEXT_PUBLIC_GA_ID||"G-XXXXXXX",pageview=e=>{window.gtag&&window.gtag("config",P,{page_path:e})};var _=a(34155);function MyApp({Component:e,pageProps:t}){let a=(0,p.useRouter)();return(0,r.useEffect)(()=>{let handleRouteChange=e=>{try{pageview(e)}catch(e){}};return a.events.on("routeChangeComplete",handleRouteChange),()=>{a.events.off("routeChangeComplete",handleRouteChange)}},[a.events]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E(),{strategy:"afterInteractive",src:`https://www.googletagmanager.com/gtag/js?id=${_.env.NEXT_PUBLIC_GA_ID}`}),(0,n.jsx)(E(),{id:"gtag-init",strategy:"afterInteractive",children:`window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '${_.env.NEXT_PUBLIC_GA_ID}');`}),(0,n.jsx)(ErrorBoundary,{children:(0,n.jsx)(d.V,{children:(0,n.jsx)(c.Ho,{children:(0,n.jsx)(ThemeProvider,{children:(0,n.jsxs)(y.Qr,{children:[(0,n.jsx)(b.j,{}),(0,n.jsxs)("div",{className:"min-h-[100vh] mobile-only pb-20",children:[(0,n.jsx)(MobileTopBar,{}),(0,n.jsx)("div",{className:"pt-16",children:(0,n.jsx)(e,{...t})})]}),(0,n.jsx)(MobileBottomNav,{}),(0,n.jsx)(UI_WhatsAppButton,{}),(0,n.jsx)(UI_LiveChat,{}),(0,n.jsx)(UI_PushNotifications,{}),(0,n.jsx)(UI_PWABanner,{})]})})})})})]})}},23837:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return a(9830)}])},32352:function(){}},function(e){var __webpack_exec__=function(t){return e(e.s=t)};e.O(0,[774,336,216,179],function(){return __webpack_exec__(23837),__webpack_exec__(27985)}),_N_E=e.O()}]);