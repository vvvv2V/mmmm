(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{97343:function(e,a,r){"use strict";r.d(a,{$_:function(){return t.Z},Zn:function(){return MainLayout},h4:function(){return s.Z}});var s=r(97421),t=r(90835),n=r(85893);let MainLayout=({children:e,showHeader:a=!0,showFooter:r=!0})=>(0,n.jsxs)("div",{className:"flex flex-col min-h-screen bg-white",children:[a&&(0,n.jsx)(s.Z,{}),(0,n.jsx)("main",{className:"flex-grow",children:e}),r&&(0,n.jsx)(t.Z,{})]})},60508:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return Register}});var s=r(67294),t=r(9008),n=r.n(t),i=r(41664),d=r.n(i),o=r(11163),l=r(87066),m=r(71677),c=r(86501),x=r(97343),h=r(85893);function Register(){let e=(0,o.useRouter)(),[a,r]=(0,s.useState)(!1),[t,i]=(0,s.useState)({name:"",email:"",phone:"",password:"",confirmPassword:"",acceptTerms:!1}),[p,g]=(0,s.useState)({}),validateForm=()=>{let e={};return t.name.trim()||(e.name="Nome \xe9 obrigat\xf3rio"),t.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(e.email="Email inv\xe1lido"):e.email="Email \xe9 obrigat\xf3rio",t.phone||(e.phone="Telefone \xe9 obrigat\xf3rio"),t.password?t.password.length<8&&(e.password="Senha deve ter no m\xednimo 8 caracteres"):e.password="Senha \xe9 obrigat\xf3ria",t.password!==t.confirmPassword&&(e.confirmPassword="As senhas n\xe3o correspondem"),t.acceptTerms||(e.acceptTerms="Voc\xea deve aceitar os termos"),g(e),0===Object.keys(e).length},handleChange=e=>{let{name:a,value:r,type:s,checked:t}=e.target;i(e=>({...e,[a]:"checkbox"===s?t:r})),p[a]&&g(e=>({...e,[a]:""}))},handleRegister=async a=>{if(a.preventDefault(),validateForm()){r(!0);try{let{data:a}=await l.Z.post("/api/auth/register",{name:t.name,email:t.email,phone:t.phone,password:t.password});localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),c.ZP.success("Conta criada com sucesso!"),e.push("/dashboard")}catch(e){c.ZP.error(e.response?.data?.message||"Erro ao criar conta"),e.response?.data?.errors&&g(e.response.data.errors)}finally{r(!1)}}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(n(),{children:[(0,h.jsx)("title",{children:"Criar Conta - Leidy Cleaner"}),(0,h.jsx)("meta",{name:"description",content:"Crie sua conta Leidy Cleaner e comece a agendar servi\xe7os de limpeza"})]}),(0,h.jsx)(x.Zn,{children:(0,h.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-primary-900 dark:to-primary-800 py-16",children:(0,h.jsx)("div",{className:"w-full max-w-xl px-6",children:(0,h.jsxs)(m.E.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"bg-white dark:bg-primary-800 rounded-2xl shadow-2xl p-8",children:[(0,h.jsx)("h1",{className:"text-3xl font-black text-center mb-2 text-gray-900 dark:text-white",children:"Criar Conta"}),(0,h.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-300 mb-8",children:"Junte-se \xe0 Leidy Cleaner e aproveite nossos servi\xe7os premium"}),(0,h.jsxs)("form",{onSubmit:handleRegister,className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome Completo"}),(0,h.jsx)("input",{name:"name",value:t.name,onChange:handleChange,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-primary-700 dark:bg-primary-900 dark:text-white"}),p.name&&(0,h.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.name})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,h.jsx)("input",{name:"email",type:"email",value:t.email,onChange:handleChange,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-primary-700 dark:bg-primary-900 dark:text-white"}),p.email&&(0,h.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.email})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Telefone"}),(0,h.jsx)("input",{name:"phone",value:t.phone,onChange:handleChange,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-primary-700 dark:bg-primary-900 dark:text-white"}),p.phone&&(0,h.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.phone})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),(0,h.jsx)("input",{name:"password",type:"password",value:t.password,onChange:handleChange,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-primary-700 dark:bg-primary-900 dark:text-white"}),p.password&&(0,h.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.password})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Senha"}),(0,h.jsx)("input",{name:"confirmPassword",type:"password",value:t.confirmPassword,onChange:handleChange,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 dark:border-primary-700 dark:bg-primary-900 dark:text-white"}),p.confirmPassword&&(0,h.jsx)("p",{className:"text-red-500 text-sm mt-1",children:p.confirmPassword})]}),(0,h.jsxs)("div",{className:"flex items-start gap-3",children:[(0,h.jsx)("input",{type:"checkbox",name:"acceptTerms",checked:t.acceptTerms,onChange:handleChange,className:"mt-1 w-4 h-4 rounded border-gray-300 text-secondary-600 focus:ring-secondary-500"}),(0,h.jsxs)("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Concordo com os ",(0,h.jsx)(d(),{href:"/terms",className:"text-secondary-600",children:"Termos"})," e ",(0,h.jsx)(d(),{href:"/privacy",className:"text-secondary-600",children:"Pol\xedtica"})]})]}),(0,h.jsx)("button",{type:"submit",disabled:a,className:"btn-primary w-full py-3",children:a?"Criando conta...":"Criar Conta"})]}),(0,h.jsx)("div",{className:"mt-6 text-center",children:(0,h.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["J\xe1 tem conta? ",(0,h.jsx)(d(),{href:"/login",className:"text-secondary-600",children:"Entrar"})]})})]})})})})]})}},10922:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(60508)}])}},function(e){e.O(0,[216,857,774,336,888,179],function(){return e(e.s=10922)}),_N_E=e.O()}]);